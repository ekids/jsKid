# jsKid

## Особенности работы

* локальная разработка должна вестись в Firefox, (в chrome есть какие-то ограничения с работой с файлами без веб-сервера которые я победить так и не смог, не думаю что стоит тратить на это время)
* для создания карты текстур рекомендуется использовать [специальный упаковщик](https://www.codeandweb.com/texturepacker)

## Ветка discrete

* условно разбил канвас на 18 х 18 ячеек - для простого задания координат. Координаты ячейки задаются наоборот - сначала Y (строка), потом X (столбец)
* добавил матрицу состояний - дискретная матрица 18 х 18 ячеек, ячейки которой содержат инстанс объекта и его тип (hero, enemy, wall, treasure)
* перемещение спрайта происходит псевдо-непрерывно (по пикселям), а изменние состояний - дискретно. Объект одержит не только координаты в px, но и координаты ячейки.
* добавил 4 функции премещения (влево, вправо, вверх и вниз). По прибытию в следующие "целые" координаты изменяется состояние матрицы
* добавил 4 функции проверки окружения (слева, справа, сверху и снизу), которые возвращают тип объекта, расположенного в соседней ячейке
* можно размещать объекты, в т.ч. стены
* можно реализовать алгоритм пермещения объектов

### Не работает

* зацикливается алгоритм пермещения. Возможно надо проверять, откуда пришел объект

### TODO

* возвращать текущие координаты ячейки объекта
* собирать сокровища и увеличивать количество очков. Возможно очки придется выводить на канвасе
